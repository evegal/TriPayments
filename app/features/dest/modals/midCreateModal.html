<script type="text/ng-template" id="midCreateContent.html"><div class="midCreateEditModal midCreateModal"><div class="modal-header"><h3>Create New MID</h3><button type="button" ng-click="cancel()" class="close">X</button></div><div class="modal-body"><wizard on-finish="finishedWizard()"><wz-step title="1. Gateway Config"><div class="gateway-option"><label>Do you want to setup from your pre-existing gateways?</label><input tooltip="Re-use a gateway that you already configured" type="checkbox" ng-model="preExist"/></div><form name="midFormGatewayConfig" ng-if="preExist == false" novalidate="novalidate" class="midCreateModal stepOne"><div class="row"><div class="col-md-4"><label>*Choose Gateway Service:</label></div><div class="col-md-8"><select required="" ng-model="selectedMerchant" id="GatewayId" ng-options="obj.Id as obj.DisplayName for obj in gateways" tooltip="Select a gateway service from a list of available gateways  (Required)" tooltip-placement="top" class="form-control"><option value="">Select an item</option></select></div></div><!--.row.col-md-4
    label *Processor:
.col-md-8
    select.form-control(required="" ng-model="selectedPro" id="processorId" ng-options="obj.Id as obj.Name for obj in processors" tooltip="The name of the processor for this merchant account (Required)" tooltip-placement="top")
        option(value="") Select an item
--><div class="row"><div class="col-md-4"><label>*Merchant Company:</label></div><div class="col-md-8"><input required="" ng-model="MerchantCompany" id="MerchantCompany" type="text" placeholder="Enter Custom Group Name" tooltip="The name you want to associate with this gateway (Required)" tooltip-placement="top" class="form-control"/></div></div><div class="row"><div class="col-md-4"><label>*Gateway Username:</label></div><div class="col-md-8"><input required="" ng-model="UserNamegate" id="Merchant.UserNamegate" type="text" placeholder="Enter Custom User Name (Required)" autocomplete="off" class="form-control"/></div></div><div class="row"><div class="col-md-4"><label>*Gateway Password</label></div><div class="col-md-8"><input required="" ng-model="Passwordgate" id="Merchant.Passwordgate" type="password" placeholder="Enter Your Password (Required)" autocomplete="off" class="form-control"/></div></div><div class="row"><div class="col-md-4"><label>*Gateway Type</label></div><div class="col-md-8"><select tooltip="Choose the kind of payment processed by this gateway (Required)" tooltip-placement="top" id="GatewayType" class="form-control"><option value="CreditCard">Credit Card</option><option value="BankingAccount">Banking Account</option><option value="External">External</option></select></div></div><div class="row"><div class="col-md-4"><label>*Active</label></div><div class="col-md-8"><input ng-model="activeStatus" id="steponeActive" type="checkbox" checked="checked"/></div></div><div class="row"><div class="col-md-6 text-left"><a tooltip="Previous selection not available in first step" tooltip-placement="top" class="row_btn disabled_btn"><i class="fa fa-arrow-left"></i><span>Previous</span></a></div><div class="col-md-6 text-right"><a type="submit" value="Next" ng-click="midCreateGatewayConfig(midFormGatewayConfig,selectedMerchant,selectedPro)" class="row_btn emerald_btn"><span>Next</span><i class="fa fa-arrow-right"></i></a></div></div><div class="row errorMsg"><p>{{errorMsg}}</p></div></form><!-- Pre-Existing Group select--><form name="midFormPreExistGatewayConfig" ng-if="preExist == true" novalidate="novalidate" class="preExist"><div class="row"><div class="col-md-4"><label>*Pre-Existing Gateway</label></div><div class="col-md-8"><select required="" ng-model="currentGate" ng-change="selectUpdate(currentGate)" ng-options="obj.MerchantGatewayId as obj.DisplayName for obj in curGates" class="form-control"><option value="">Select an item (Required)</option></select></div></div><div ng-if="ChosenGateway.MerchantGatewayId != null" class="row"><div class="row"><div class="col-md-6 text-right">Merchant Gateway Id:</div><div class="col-md-6">{{ChosenGateway.MerchantGatewayId}}</div></div><div class="row"><div class="col-md-6 text-right">Company Name:</div><div class="col-md-6">{{ChosenGateway.CompanyName}}</div></div><div class="row"><div class="col-md-6 text-right">Active Status:</div><div class="col-md-6">{{ChosenGateway.Active}}</div></div><div class="row"><div class="col-md-6 text-right">Gateway User:</div><div class="col-md-6">{{ChosenGateway.GatewayUsername}}</div></div><div class="row"><div class="col-md-6 text-right">Gateway Password:</div><div class="col-md-6">{{ChosenGateway.GatewayPassword}}          </div></div></div><div class="row"><div class="col-md-6"></div><div class="col-md-6 text-right"><a href="" type="submit" ng-click="midPreExistGatewayConfig(midFormPreExistGatewayConfig)" class="row_btn emerald_btn"><span>Next</span><i class="fa fa-arrow-right"></i></a></div></div><div class="row errorMsg"><p>{{wrongUser}}</p><p>{{emptyField}}</p></div></form></wz-step><wz-step title="2. MID Config"><form name="midFormCreateConfigOptions" novalidate="novalidate" class="stepTwo"><div class="row"><div class="col-md-6"><div class="row"><div class="col-md-4"><label>*MID:</label></div><div class="col-md-8"> <input required="" ng-model="MIDconfig" id="MIDconfig" type="text" placeholder="Enter mid  (Required)" tooltip="MID or Processor ID is provided by your Merchant Account Provider (Required)" tooltip-placement="top" class="form-control"/></div></div></div><div class="col-md-6"><div class="row"><div class="col-md-4"><label>*Descriptor:</label></div><div class="col-md-8"><input required="" ng-model="MIDdescriptor" id="MIDdescriptor" type="text" tooltip="Text available for order confirmation it's passed to the gateway.  If dynamic descriptor is supposed to be provided by gateway. (Required)" tooltip-placement="top" placeholder="Enter descriptor (Required)" class="form-control"/></div></div></div></div><div class="row"><div class="col-md-6"><div class="row"><div class="col-md-4"><label>*Display Name:</label></div><div class="col-md-8"><input required="" ng-model="MIDdisplayName" id="MIDdisplayName" type="text" tooltip-placement="top" placeholder="Enter display name (Required)" tooltip="What will show in our reports to this Merchant Account (Required)" class="form-control"/></div></div></div><div class="col-md-6"><div class="row"><div class="col-md-4"><label>*Monthly Cap:</label></div><div class="col-md-8"><input required="" ng-model="MIDmonthlyCap" type="number" id="MIDmonthlyCap" tooltip="Used for load balancing and routing to prevent transactions to decline because your account exceeds the cap.  (Required)" tooltip-placement="top" placeholder="Enter monthly cap  (Required)" class="form-control"/></div></div></div></div><div class="row paymentTypeDiv"><p> <label tooltip="Select allowed payment types.  (Required)" tooltip-placement="top">*Payment Types: (Required)</label></p></div><div class="row paymentTypeDiv"><div class="col-md-3"><input name="cardCheckbox" type="checkbox" value="1"/><i class="fa fa-cc-amex fa-2x"></i></div><div class="col-md-3"><input name="cardCheckbox" type="checkbox" value="2"/><i class="fa fa-cc-visa fa-2x"></i></div><div class="col-md-3"><input name="cardCheckbox" type="checkbox" value="3"/><i class="fa fa-cc-mastercard fa-2x"></i></div><div class="col-md-3"><input name="cardCheckbox" type="checkbox" value="4"/><i class="fa fa-cc-discover fa-2x"></i></div></div><div class="row paymentTypeDiv"><p> <label tooltip="Select allowed currency types.  (Required)" tooltip-placement="top">*Currency Types: (Required)</label></p></div><div class="row currencyTypeDiv"><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="12"/><span>USD - United States Dollar</span></div><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="3"/><span>AUD - Australia Dollar</span></div><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="10"/><span>BRL -Brazil Real</span></div><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="4"/><span>CAD - Canada Dollar</span></div><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="5"/><span>DKK - Denmark Krone</span></div><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="2"/><span>EUR -Euro Member </span></div><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="1"/><span>GBP - UK Pound</span></div><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="7"/><span>JPY - Japan Yen</span></div><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="8"/><span>NOK - Norway Krone</span></div><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="6"/><span>NZD - New Zealand Dollar</span></div><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="9"/><span>SEK - Sweden Krona</span></div><div class="col-md-3"><input name="curTypeCheckbox" type="checkbox" value="11"/><span>SGD - Singapore Dollar</span></div></div><div class="row paymentTypeDiv"><p> <label tooltip="Select additional MID options.  (Optional)" tooltip-placement="top">Additional MID Options: (Optional)</label></p></div><div class="row"><div class="col-md-6"><div class="row"><div class="col-md-6"><label>Daily ReBill Limit:</label></div><div class="col-md-3"><select tooltip="Rebill limit set to percent or amount (optional)" tooltip-placement="top" id="limitType" class="form-control"><option value="Percentage">%</option><option value="Amount">Amt</option></select></div><div class="col-md-3"><input id="dailyRebill" type="number" placeholder="value" class="form-control"/></div></div></div><div class="col-md-6"><div class="row"><div class="col-md-6"><label>Transaction Fee:</label></div><div class="col-md-6"><input tooltip="Transaction Fee charged by your Merchant Account provider.  Used for reporting.  (optional)" tooltip-placement="top" type="number" id="MIDtransactionFee" placeholder="Enter transaction fee" class="form-control"/></div></div></div></div><div class="row"><div class="col-md-6"><div class="row"><div class="col-md-6"><label>ChargeBack Fee:</label></div><div class="col-md-6"><input id="MIDchargeBackFee" placeholder="Enter chargeback fee" tooltip="Used for reporting" tooltip-placement="top" type="number" class="form-control"/></div></div></div><div class="col-md-6"><div class="row"><div class="col-md-6"><label>Reserve Acct Rate:</label></div><div class="col-md-6"><input tooltip="Used for reporting assing in estimating cash flow. (optional)" tooltip-placement="top" type="number" id="MIDreserveAccountRate" placeholder="Enter reserve rate" class="form-control"/></div></div></div></div><div class="row"><div class="col-md-6"><div class="row"><div class="col-md-6"><label>Discount:</label></div><div class="col-md-6"><input tooltip="Used for reporting. (optional)" tooltip-placement="top" type="number" id="MIDiscount" placeholder="Enter discount" class="form-control"/></div></div></div><div class="col-md-6"><div class="row"><div class="col-md-6"><label>Gateway Fee:</label></div><div class="col-md-6"><input id="MIDgatewayFee" type="number" tooltip="Used for reporting (optional)" tooltip-placement="top" placeholder="Enter gateway fee" class="form-control"/></div></div></div></div><div class="row"><div class="col-md-6 text-left"><a href="" type="submit" wz-previous="" class="row_btn emerald_btn"><i class="fa fa-arrow-left"></i><span>Previous</span></a></div><div class="col-md-6 text-right"><a href="" type="submit" ng-click="midCreateConfigOptions(midFormCreateConfigOptions)" class="row_btn emerald_btn"><span>Next</span><i class="fa fa-arrow-right"></i></a></div></div><div class="row errorMsg"><p>{{errorMsg}}</p></div></form></wz-step><wz-step title="3. Email Notification"><div class="row"><div class="col-md-12 text-center subtleTxt"><i class="fa fa-info-circle"></i><span> An email will be sent out to the user(s) specified below, for every transaction.</span></div></div><div class="row"><form><!--.col-md-4p Email Type
.form-group
    input(id="allEmailTypes" ng-model="allEmailTypes" ng-change="allTypeChange()" value="1" type="checkbox" )
    label All Email Types
.form-group
    input(id="transaction" ng-model="transaction" value="2" type="checkbox")
    label Transaction
.form-group
    input(id="capToggle" ng-model="capToggle" value="3" type="checkbox")
    label Cap Utilization

.row(ng-if="capToggle == true")
    .col-md-6
        select.form-control(id="capType")
            option(value="") Select an item
            option Percentage
            option Amount
    .col-md-6
        input.form-control(id="capValue" type="number" placeholder="Enter Value") 



--><div class="col-md-8"><p>Email Address</p><input type="text" placeholder="Enter Your Email (optional)" id="notificationEmail" class="form-control"/></div><div class="col-md-2"><a href="" ng-click="addEmail()" class="row_btn emerald_btn add_email"> <i class="fa fa-plus"></i><span>Add Email</span></a></div></form></div><div class="row"><table class="table"><thead ng-if="emailAdded == true"><tr><th>Email</th><th>Remove Notification</th></tr></thead><tbody ng-repeat="email in emails"><tr><td>{{email}}</td><td><a href="" ng-click="removeEmail(email, $index)" class="mdl_body_btn alazarin_btn"><i class="fa fa-trash"></i><span>Delete</span></a></td></tr></tbody></table></div><div class="row"><div class="col-md-6 text-left"><a href="" type="submit" wz-previous="" class="row_btn emerald_btn"><i class="fa fa-arrow-left"></i><span>Previous</span></a></div><div class="col-md-6 text-right"><a href="" type="submit" ng-click="midCreateNotifyEmail()" class="row_btn emerald_btn"><span>Next</span><i class="fa fa-arrow-right"></i></a></div></div><div class="row errorMsg"><p>{{errorMsg}}</p></div></wz-step><wz-step title="4. Verify Settings(VT)" class="virtual_panel"><table class="table"><thead><tr><th>MID</th><th>Descriptor</th><th>Display Name</th><th>Monthly Cap</th><th>Active Status</th></tr></thead><tbody><tr><td>{{MidConfig}}</td><td>{{Descriptor}}</td><td>{{DisplayName}}</td><td>{{MonthlyCap | currency}}</td><td>{{IsActive}}</td></tr></tbody></table><div class="row"><div class="col-md-6 text-left"><a href="" type="submit" wz-previous="" class="row_btn emerald_btn final_btn"><i class="fa fa-arrow-left"></i><span>Previous</span></a></div><div class="col-md-6 text-right"><a href="" type="submit" ng-click="midCreateVerify()" class="row_btn emerald_btn final_btn"><span>Verify MID</span><i class="fa fa-arrow-right"></i></a></div></div><div class="row errorMsg"><p>{{errorMsg}}</p></div><div class="row successMsg"><p>{{successMsg}}</p></div></wz-step></wizard></div><div class="modal-footer action_group"><a href="" ng-click="cancel()" class="row_btn cancel_btn"><i class="fa fa-sign-out"></i><span>Exit</span></a></div></div></script>